{% extends 'base.html' %}
{% load static %}

{% block styles %}
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link rel="stylesheet" href="{% static 'css/ranking.css' %}">
<link rel="stylesheet" href="{% static 'css/shared.css' %}">
<link rel="stylesheet" href="{% static 'css/navbar.css' %}">
{% endblock %}

{% block content %}
<header>
    <nav class="grey darken-4">
        <a href="{% url 'forum' %}" class="brand-logo"><i class="fas fa-gamepad"></i> GAMEWEB</a>
        <ul class="right">
            <li><a href="{% url 'forum' %}">Forum</a></li>
            <li><a href="{% url 'search' %}">Search</a></li>
            <li><a href="{% url 'ranking' %}">Ranking</a></li>
            <li><a data-target="dropdownAccount" class="dropdown-account btn-login btn-yellow waves-effect waves-light yellow btn-large modal-trigger">
                My account
            </a></li>
        </ul>
    </nav>
    <ul id='dropdownAccount' class='dropdown-content'>
        <li><a href="{% url 'home' %}">RETURN TO HOME PAGE</a></li>
        <li class="divider" tabindex="-1"></li>
        <li><a href="#!">SETTINGS</a></li>
        <li class="divider" tabindex="-1"></li>
        <li><a href="{% url 'logoutPage' %}">LOGOUT</a></li>
    </ul>
</header>

<div id="section-ranking" class="">
    <h1>TOP 10 GAMES</h1>
    <ul class="collection">
        {% for game in games %}
            <li class="collection-item">
                <img src="{{ game.cover_url }}">
                <div class="content">
                    <div class="game-description">
                        <h3>{{ game.id }}. {{ game.name }}</h3>
                        <a href="{% url 'gameDetails' pk=game.game_id %}" class="btn waves-effect waves-light btn-view-details">View details</a>
                    </div>
                    <div class="game-rating">
                        <i class="material-icons star-icon">star</i>
                        <p class="rate-value">{{ game.rate }}</p>
                        <p class="rate-count">Count: {{ game.count_rates }}</p>
                    </div>
                </div>
            </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}

{% block javascript %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
        integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script type="text/javascript" src="{% static 'js/dropdown-home.js' %}"></script>
{% endblock %}